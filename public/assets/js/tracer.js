swb("register","tracer"),function(e,t){function n(e,t){try{if("function"!=typeof e)return e;if(!e.bugsnag){var n=a();e.bugsnag=function(r){if(t&&t.eventHandler&&(h=r),b=n,!E){var a=e.apply(this,arguments);return b=null,a}try{return e.apply(this,arguments)}catch(o){throw l("autoNotify",!0)&&(w.notifyException(o,null,null,"error"),p()),o}finally{b=null}},e.bugsnag.bugsnag=e.bugsnag}return e.bugsnag}catch(r){return e}}function r(){k=!1}function a(){var e=document.currentScript||b;if(!e&&k){var t=document.scripts||document.getElementsByTagName("script");e=t[t.length-1]}return e}function o(e){var t=a();t&&(e.script={src:t.src,content:l("inlineScript",!0)?t.innerHTML:""})}function i(t){var n=l("disableLog"),r=e.console;void 0===r||void 0===r.log||n||r.log("[Bugsnag] "+t)}function u(e,t){if(null==t)return e;e=e||{};for(var n in t)if(t.hasOwnProperty(n))try{e[n]=t[n].constructor===Object?u(e[n],t[n]):t[n]}catch(r){e[n]=t[n]}return e}function c(e,t){return t.type="js",void swb("send","api/v1/tracer",t)}function s(e){var t={},n=/^data\-([\w\-]+)$/;if(e)for(var r=e.attributes,a=0;a<r.length;a++){var o=r[a];if(n.test(o.nodeName)){var i=o.nodeName.match(n)[1];t[i]=o.value||o.nodeValue}}return t}function l(e,t){L=L||s(C);var n=void 0!==w[e]?w[e]:L[e.toLowerCase()];return"false"===n&&(n=!1),void 0!==n?n:t}function f(t,n){var r=l("apiKey");if(T){T-=1;var a=l("releaseStage"),o=l("notifyReleaseStages");if(o){for(var s=!1,f=0;f<o.length;f++)if(a===o[f]){s=!0;break}if(!s)return}var m=[t.name,t.message,t.stacktrace].join("|");if(m!==N){N=m,h&&(n=n||{},n["Last Event"]=g(h));var d={notifierVersion:j,apiKey:r,projectRoot:l("projectRoot")||e.location.protocol+"//"+e.location.host,context:l("context")||e.location.pathname,userId:l("userId"),user:l("user"),metaData:u(u({},l("metaData")),n),releaseStage:a,appVersion:l("appVersion"),url:e.location.href,userAgent:navigator.userAgent,language:navigator.language||navigator.userLanguage,severity:t.severity,name:t.name,message:t.message,stacktrace:t.stacktrace,file:t.file,lineNumber:t.lineNumber,columnNumber:t.columnNumber,payloadVersion:"2"},v=w.beforeNotify;if("function"==typeof v){var p=v(d,d.metaData);if(p===!1)return}return 0===d.lineNumber&&/Script error\.?/.test(d.message)?i("Ignoring cross-domain script error. See https://bugsnag.com/docs/notifiers/js/cors"):void c(l("endpoint")||B,d)}}}function m(){var e,t,n=10,r="[anonymous]";try{throw new Error("")}catch(a){e="<generated>\n",t=d(a)}if(!t){e="<generated-ie>\n";var o=[];try{for(var u=arguments.callee.caller.caller;u&&o.length<n;){var c=I.test(u.toString())?RegExp.$1||r:r;o.push(c),u=u.caller}}catch(s){i(s)}t=o.join("\n")}return e+t}function d(e){return e.stack||e.backtrace||e.stacktrace}function g(e){var t={millisecondsAgo:new Date-e.timeStamp,type:e.type,which:e.which,target:v(e.target)};return t}function v(e){if(e){var t=e.attributes;if(t){for(var n="<"+e.nodeName.toLowerCase(),r=0;r<t.length;r++)t[r].value&&"null"!=t[r].value.toString()&&(n+=" "+t[r].name+'="'+t[r].value+'"');return n+">"}return e.nodeName}}function p(){S+=1,e.setTimeout(function(){S-=1})}function y(t,n,r){var a=t[n],o=r(a);t[n]=o,"undefined"!=typeof BUGSNAG_TESTING&&e.undo&&e.undo.push(function(){t[n]=a})}var h,b,N,w={},E=!0,S=0,T=10;w.noConflict=function(){return e.Bugsnag=t,w},w.refresh=function(){T=10},w.notifyException=function(e,t,n,r){t&&"string"!=typeof t&&(n=t,t=void 0),n||(n={}),o(n),f({name:t||e.name,message:e.message||e.description,stacktrace:d(e)||m(),file:e.fileName||e.sourceURL,lineNumber:e.lineNumber||e.line,columnNumber:e.columnNumber?e.columnNumber+1:void 0,severity:r||"warning"},n)},w.notify=function(t,n,r,a){f({name:t,message:n,stacktrace:m(),file:e.location.toString(),lineNumber:1,severity:a||"warning"},r)};var k="complete"!==document.readyState;document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!0),e.addEventListener("load",r,!0)):e.attachEvent("onload",r);var L,I=/function\s*([\w\-$]+)?\s*\(/i,A="https://luke.switchblade.io/",B=A+"api/v1/tracer/js",j="2.4.7",x=document.getElementsByTagName("script"),C=x[x.length-1];if(e.atob){if(e.ErrorEvent)try{0===new e.ErrorEvent("test").colno&&(E=!1)}catch(G){}}else E=!1;if(l("autoNotify",!0)){y(e,"onerror",function(t){return"undefined"!=typeof BUGSNAG_TESTING&&(w._onerror=t),function(n,r,a,i,u){var c=l("autoNotify",!0),s={};!i&&e.event&&(i=e.event.errorCharacter),o(s),b=null,c&&!S&&f({name:u&&u.name||"window.onerror",message:n,file:r,lineNumber:a,columnNumber:i,stacktrace:u&&d(u)||m(),severity:"error"},s),"undefined"!=typeof BUGSNAG_TESTING&&(t=w._onerror),t&&t(n,r,a,i,u)}});var M=function(e){return function(t,r){if("function"==typeof t){t=n(t);var a=Array.prototype.slice.call(arguments,2);return e(function(){t.apply(this,a)},r)}return e(t,r)}};y(e,"setTimeout",M),y(e,"setInterval",M),e.requestAnimationFrame&&y(e,"requestAnimationFrame",function(e){return function(t){return e(n(t))}}),e.setImmediate&&y(e,"setImmediate",function(e){return function(){var t=Array.prototype.slice.call(arguments);return t[0]=n(t[0]),e.apply(this,t)}}),"EventTarget Window Node ApplicationCache AudioTrackList ChannelMergerNode CryptoOperation EventSource FileReader HTMLUnknownElement IDBDatabase IDBRequest IDBTransaction KeyOperation MediaController MessagePort ModalWindow Notification SVGElementInstance Screen TextTrack TextTrackCue TextTrackList WebSocket WebSocketWorker Worker XMLHttpRequest XMLHttpRequestEventTarget XMLHttpRequestUpload".replace(/\w+/g,function(t){var r=e[t]&&e[t].prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&(y(r,"addEventListener",function(e){return function(t,r,a,o){return r&&r.handleEvent&&(r.handleEvent=n(r.handleEvent,{eventHandler:!0})),e.call(this,t,n(r,{eventHandler:!0}),a,o)}}),y(r,"removeEventListener",function(e){return function(t,r,a,o){return e.call(this,t,r,a,o),e.call(this,t,n(r),a,o)}}))})}e.Bugsnag=w,"function"==typeof define&&define.amd?define([],function(){return w}):"object"==typeof module&&"object"==typeof module.exports&&(module.exports=w)}(window,window.Bugsnag);
//# sourceMappingURL=tracer.js.map